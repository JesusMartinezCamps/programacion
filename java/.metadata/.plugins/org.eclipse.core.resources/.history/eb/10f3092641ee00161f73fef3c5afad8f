package org.foobarspam.Estacion;
import org.foobarspam.Bicicleta.*;

public class Estacion {

	/*Atributos*/
	private int id = 0;
	private String direccion = null;
	private int numeroAnclajes = 0;
	private Bicicleta anclajes[] = null;
	private int anclajesLibres = 0;
	
	
	/*Constructor*/
	public Estacion(int id, String direccion, int numeroAnclajes){
		this.id = id;
		this.direccion = direccion;
		this.numeroAnclajes = numeroAnclajes;
		this.anclajes = new Bicicleta[numeroAnclajes];
	}

	/*getters*/
	public int getId(){
		return this.id;
	}
	public String getDireccion(){
		return this.direccion;
	}
	public int getNumeroAnclajes(){
		return this.numeroAnclajes;
	}
	public int getAnclajesLibres(){
		return this.anclajesLibres;
	}
	public void setAnclajesLibres(int anclajesLibres){
		this.anclajesLibres = this.anclajesLibres + anclajesLibres;
	}
	/*Interfaz p√∫blica*/
	public void consultarEstacion(){
		System.out.println(" id: "+getId()+"\n direccion: "+getDireccion()+"\n numeroAnclajes: "+getNumeroAnclajes());
	}
	
	public int anclajesLibres(){
		for(Bicicleta anclaje : this.anclajes){
			if (anclaje == null){ 
				setAnclajesLibres(+1);
			}else{
				setAnclajesLibres(-1);
			}
		}
		return getAnclajesLibres();
	}

	public void anclarBicicleta(Bicicleta bicicleta){
		int posicion = 0;
		int numeroAnclaje = posicion +1;
		
		for(Bicicleta anclaje : anclajes){
			if(anclaje == null){
				anclajes[posicion] = bicicleta;
				mostrarAnclaje(bicicleta, numeroAnclaje);
				setAnclajesLibres(-1);
				break;
			}else{
				posicion ++;
				numeroAnclaje ++;
			}
		}
	}
	public void mostrarAnclaje(Bicicleta bicicleta, int numeroAnclaje){
		System.out.println("Bicicleta anclada: "+bicicleta.getId()+" anclada en el anclaje: "+numeroAnclaje);
	}
	
}
